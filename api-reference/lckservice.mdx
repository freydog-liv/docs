---
title: "LckService"
description: "Provides lifecycle management, recording, audio, camera, and telemetry control for LIV Capture Kit."
---

## Description

The `LckService` class is the central entry point for working with the LIV Capture Kit (LCK). It manages service lifecycle, video/audio capture, camera configuration, and discreet audio playback.

A single instance of `LckService` exists at any given time. You create and destroy this instance using the static methods `CreateService` and `DestroyService`. Once created, the service exposes methods for recording, photo capture, audio control, and camera switching.

## Usage

The general flow for using LCK is to first use the static function `CreateService`, passing in an `LckDescriptor` with the wanted track settings.

At which point you can call `SetActiveCamera` on the returned service, passing in the ID of the LCK Camera you wish to capture with.

Then the recording can be controlled with `StartRecording` and `StopRecording`.

### Example – Recording Workflow

```c# expandable
// Create service
var createResult = LckService.CreateService(new LckDescriptor());
if (!createResult.Success)
    return;

var service = createResult.Result;

// Start recording
var start = service.StartRecording();
if (start.Success)
    Debug.Log("Recording started");

// Stop recording
var stop = service.StopRecording();
if (stop.Success)
    Debug.Log("Recording stopped");
```

### Example – Camera & Audio

```c# expandable
// Switch active camera
service.SetActiveCamera("Camera1");

// Enable mic and set gain
service.SetMicrophoneCaptureActive(true);
service.SetMicrophoneGain(1.2f);

// Get audio levels
var micLevel = service.GetMicrophoneOutputLevel();
if (micLevel.Success)
    Debug.Log($"Mic level: {micLevel.Result}");
```

## References

<AccordionGroup>
  <Accordion title="Events" defaultOpen>
    | Event                | Type                                   | Description                           |
    | :------------------- | :------------------------------------- | :------------------------------------ |
    | `OnRecordingStarted` | `event LckResultDelegate`              | Raised when recording starts.         |
    | `OnRecordingStopped` | `event LckResultDelegate`              | Raised when recording stops.          |
    | `OnLowStorageSpace`  | `event LckResultDelegate`              | Raised when storage space is low.     |
    | `OnPhotoSaved`       | `event LckResultDelegate`              | Raised when a photo is saved.         |
    | `OnRecordingSaved`   | `event LckResultRecordingDataDelegate` | Raised when recording data is saved.  |
    | `OnActiveCameraSet`  | `event LckResultILckCameraDelegate`    | Raised when the active camera is set. |
  </Accordion>
  <Accordion title="Static Methods" defaultOpen>
    | Method                                    | Returns                 | Description                                                                            |
    | :---------------------------------------- | :---------------------- | :------------------------------------------------------------------------------------- |
    | `CreateService(LckDescriptor descriptor)` | `LckResult<LckService>` | Creates and initializes the service. Validates platform, graphics API, and descriptor. |
    | `DestroyService()`                        | `LckResult`             | Destroys the current service instance and frees resources.                             |
    | `GetService()`                            | `LckResult<LckService>` | Retrieves the current service instance if available.                                   |
  </Accordion>
  <Accordion title="Recording Control" defaultOpen>
    | Method                   | Returns               | Description                                             |
    | :----------------------- | :-------------------- | :------------------------------------------------------ |
    | `StartRecording()`       | `LckResult`           | Starts a new recording session.                         |
    | `StopRecording()`        | `LckResult`           | Stops the current recording (`StopReason.UserStopped`). |
    | `GetRecordingDuration()` | `LckResult<TimeSpan>` | Gets the elapsed recording duration.                    |
    | `IsRecording()`          | `LckResult<bool>`     | Checks if recording is currently active.                |
    | `IsCapturing()`          | `LckResult<bool>`     | Checks if capture is active (includes preview).         |
    | `CapturePhoto()`         | `LckResult`           | Captures a still photo.                                 |
  </Accordion>
  <Accordion title="Track Configuration" defaultOpen>
    | `SetTrackResolution(CameraResolutionDescriptor descriptor)` | `LckResult` | Sets the track resolution.        |
    | :---------------------------------------------------------- | :---------- | :-------------------------------- |
    | `SetTrackFramerate(uint framerate)`                         | `LckResult` | Sets the recording framerate.     |
    | `SetTrackDescriptor(CameraTrackDescriptor descriptor)`      | `LckResult` | Sets the camera track descriptor. |
    | `SetTrackBitrate(uint bitrate)`                             | `LckResult` | Sets the video bitrate.           |
    | `SetTrackAudioBitrate(uint audioBitrate)`                   | `LckResult` | Sets the audio bitrate.           |
    | `SetPreviewActive(bool isActive)`                           | `LckResult` | Enables or disables live preview. |
  </Accordion>
  <Accordion title="Audio Control" defaultOpen>
    | `SetGameAudioCaptureActive(bool isActive)`  | `LckResult`        | Enables/disables game audio capture.  |
    | :------------------------------------------ | :----------------- | :------------------------------------ |
    | `SetMicrophoneCaptureActive(bool isActive)` | `LckResult`        | Enables/disables microphone capture.  |
    | `SetMicrophoneGain(float gain)`             | `LckResult`        | Sets microphone gain.                 |
    | `SetGameAudioGain(float gain)`              | `LckResult`        | Sets game audio gain.                 |
    | `GetMicrophoneOutputLevel()`                | `LckResult<float>` | Gets current microphone output level. |
    | `GetGameOutputLevel()`                      | `LckResult<float>` | Gets current game audio output level. |
    | `IsGameAudioMute()`                         | `LckResult<bool>`  | Checks if game audio is muted.        |
  </Accordion>
  <Accordion title="Camera Control" defaultOpen>
    | Method                                                      | Returns                    | Description                                     |
    | :---------------------------------------------------------- | :------------------------- | :---------------------------------------------- |
    | `SetActiveCamera(string cameraId, string monitorId = null)` | `LckResult`                | Activates a camera by ID (optional monitor ID). |
    | `GetActiveCamera()`                                         | `LckResult<ILckCamera>`    | Retrieves the currently active camera.          |
    | `GetDescriptor()`                                           | `LckResult<LckDescriptor>` | Gets the current track descriptor.              |
  </Accordion>
  <Accordion title="Discreet Audio Playback" defaultOpen>
    | Method                                                                         | Returns     | Description                                   |
    | :----------------------------------------------------------------------------- | :---------- | :-------------------------------------------- |
    | `PreloadDiscreetAudio(AudioClip clip, float volume, bool forceReload = false)` | `LckResult` | Preloads an audio clip for discreet playback. |
    | `PlayDiscreetAudioClip(AudioClip clip)`                                        | `LckResult` | Plays a discreet audio clip.                  |
    | `StopAllDiscreetAudio()`                                                       | `LckResult` | Stops all discreet audio playback.            |
  </Accordion>
  <Accordion title="Disposal" defaultOpen>
    | Method      | Returns | Description                                |
    | :---------- | :------ | :----------------------------------------- |
    | `Dispose()` | `void`  | Disposes of the service and its resources. |
  </Accordion>
</AccordionGroup>